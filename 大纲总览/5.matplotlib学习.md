# Matplotlib 学习

## 1. 基础配置

### 1.1 导入模块
- `import matplotlib.pyplot as plt`
- `from matplotlib import rcParams`

### 1.2 字体设置（中文显示）
- `rcParams['font.sans-serif'] = 'STHeiti'`

### 1.3 figure 设置
- `plt.figure(figsize=(10, 5))`

---

## 2. 常用图表类型

### 2.1 折线图（plot）
- `plt.plot(x, y)`
- 参数：`linewidth`、`linestyle`、`marker`
- 标题与标签：`plt.title()` / `plt.xlabel()` / `plt.ylabel()`
- `plt.legend()`
- `plt.grid()`
- `plt.xticks()` / `plt.yticks()`
- 数据标注：`plt.text()`

### 2.2 柱状图（bar）
- `plt.bar(x, y)`
- `grid(axis='y')`
- 显示数值：`plt.text()`

### 2.3 条形图（barh）
- `plt.barh()`

### 2.4 饼图（pie）
- `autopct` 百分比显示
- `startangle` 起始角度
- `colors` 配色

### 2.5 环形图（pie + wedgeprops）
- `wedgeprops={"width": 0.6}`
- `pctdistance` 调整百分比位置

### 2.6 爆炸式饼图（explode）
- `explode=[0.1,0,0,0,0]`

### 2.7 散点图（scatter）
- `plt.scatter(x, y)`

### 2.8 箱线图（boxplot）
- `plt.boxplot(data)`
- `tick_labels` 参数
- `grid()` 显示分布线

---

## 3. 多图表布局（subplot）

### 3.1 subplot 设置
- `plt.subplot(2, 2, 1)`
- `plt.subplot(221)`（简写）

### 3.2 单图内绘制多种图形
- 折线图
- 柱状图
- 散点图
- 条形图

### 3.3 排版优化
- `plt.tight_layout()`

---

## 4. 实战案例：天气数据分析（weather.csv）

### 4.1 导入数据
- `df = pd.read_csv("data/weather.csv")`

### 4.2 日期转换
- `df["date"] = pd.to_datetime(df["date"])`
- 筛选 2015 年数据

### 4.3 气温折线图
- `plot(temp_max)`
- `plot(temp_min)`

### 4.4 平均气温曲线
- `df["temp_mean"] = (temp_max + temp_min) / 2`

### 4.5 降水量直方图
- `plt.hist(df["precipitation"], bins=5)`

---

## 5. 图表应用说明（总结）
- 折线图：显示趋势  
- 柱状图：比较分类数据  
- 饼图：显示组成比例  
- 散点图：展示变量关系  
- 箱线图：分布与异常值检测  

---

## 6. 可视化风格与技巧（重点总结）
- **颜色**：`color=` / 多色组合  
- **样式**：`linestyle="--"` 等  
- **网格**：`grid(True, alpha=..., color=..., linestyle=...)`  
- **坐标轴范围**：`plt.ylim()`  
- **字体**：中文字体处理  
- **标注**：文本说明、数据标签、美化细节  
